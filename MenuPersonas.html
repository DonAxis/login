<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="botones.css">
  <link rel="stylesheet" href="Personas.css"> 
  
  <title>Registro de Alumnos</title>
  
  <style>
    .preview-grupo {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      border-left: 4px solid #1976d2;
      text-align: center;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <h1>Registro de Alumnos</h1>
  
  <div class="botones-accion">
    <button onclick="mostrarFormularioAgregar()" class="botAzu">
      Agregar Alumno
    </button>
    <button onclick="resetearDatos()" class="botAzu">
      Resetear Datos
    </button>
  </div>

  <div id="contenido">
    <div id="tabla-alumnos">
      <p>Cargando datos...</p>
    </div>
  </div>

  <div id="modalFormulario" class="modal">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModal()">&times;</span>
      
      <h2 id="tituloModal">Nuevo Alumno</h2>
      
      <form id="formAlumno" onsubmit="guardarAlumno(event)">
        <input type="hidden" id="indiceAlumno">
        <input type="hidden" id="docId">
         
        <div class="form-grupo">
          <label for="nombre">Nombre Completo: *</label>
          <input type="text" id="nombre" required placeholder="Nombre completo">
        </div>

        <div class="form-row">
          <div class="form-grupo">
            <label for="matricula">Matricula: *</label>
            <input type="text" id="matricula" required placeholder="Ej: 2024001">
          </div>

          <div class="form-grupo">
            <label for="email">Email: *</label>
            <input type="email" id="email" required placeholder="alumno@escuela.com">
          </div>
        </div>

        <h3 style="margin: 20px 0 10px 0; color: #667eea;">Informacion de Grupo</h3>

        <div class="form-row">
          <div class="form-grupo">
            <label for="periodo">Periodo: *</label>
            <select id="periodo" required onchange="actualizarPreviewGrupo()">
              <option value="">Seleccionar periodo...</option>
            </select>
          </div>

          <div class="form-grupo">
            <label for="turno">Turno: *</label>
            <select id="turno" required onchange="actualizarPreviewGrupo()">
              <option value="1">Matutino</option>
              <option value="2">Vespertino</option>
              <option value="3">Nocturno</option>
              <option value="4">Sabatino</option>
            </select>
          </div>
        </div>

        <div class="form-grupo">
          <label for="orden">Orden del Grupo:</label>
          <input type="text" id="orden" value="01" maxlength="2" onchange="actualizarPreviewGrupo()"
            style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
          <small style="color: #666; display: block; margin-top: 5px;">
            Numero de grupo dentro del periodo/turno (01, 02, 03...)
          </small>
        </div>

        <div class="preview-grupo" id="previewGrupo">
          <em style="color: #999;">Selecciona periodo y turno para ver el codigo de grupo</em>
        </div>

        <div class="form-botones">
          <button type="submit" class="botAzu">Guardar</button>
          <button type="button" onclick="cerrarModal()" class="botAzu">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <script src="firebase.js"></script>
  <script src="MenuPersonas.js"></script>
</body>
</html>